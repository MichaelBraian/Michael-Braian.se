"use strict";(()=>{var e={};e.id=816,e.ids=[816],e.modules={17804:e=>{e.exports=require("@prisma/client/scripts/default-index.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},22286:e=>{e.exports=require("node:https")},82375:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>g,requestAsyncStorage:()=>h,routeModule:()=>d,serverHooks:()=>f,staticGenerationAsyncStorage:()=>p});var n={};r.r(n),r.d(n,{GET:()=>l,runtime:()=>u});var a=r(73278),s=r(45002),i=r(54877),o=r(71309),c=r(81643);async function l(){try{let e=await c.ZP.user.findMany({select:{id:!0,email:!0,name:!0,role:!0,status:!0}});return o.NextResponse.json({message:"Database connection successful",usersCount:e.length,users:e})}catch(e){return console.error("Database connection error:",e),o.NextResponse.json({error:"Failed to connect to the database"},{status:500})}}let u="nodejs",d=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/db-test/route",pathname:"/api/db-test",filename:"route",bundlePath:"app/api/db-test/route"},resolvedPagePath:"/Users/michaelbraian/Documents/VisualStudioCode/Bolt2/app/api/db-test/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:h,staticGenerationAsyncStorage:p,serverHooks:f}=d,m="/api/db-test/route";function g(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:p})}},81643:(e,t,r)=>{r.d(t,{ZP:()=>i,_B:()=>s});let n=require("@prisma/client");var a=r(12827);let s=new n.PrismaClient,i=s.$extends((0,a.z)())},12827:(e,t,r)=>{r.d(t,{z:()=>l});var n=r(17804);let a="@prisma/extension-accelerate",s="Unable to connect to the Accelerate API. This may be due to a network or DNS issue. Please check your connection and the Accelerate connection string. For details, visit https://www.prisma.io/docs/accelerate/troubleshoot.";var i=r(22286);async function o(e,t={}){let r={method:t.method,headers:{...t.headers,"Content-Type":"application/json"}},n=[],{origin:a}=new URL(e);return new Promise((s,l)=>{let u=i.request(e,r,e=>{let{statusCode:r=200,headers:{location:i}}=e;r>=301&&r<=399&&i&&(!1===i.startsWith("http")?s(o(`${a}${i}`,t)):s(o(i,t))),e.on("data",e=>n.push(e)),e.on("end",()=>s(function(e,t){let{statusCode:r=200,url:n,headers:a}=t;return{body:{cancel:()=>Promise.resolve()},text:()=>Promise.resolve(Buffer.concat(e).toString()),json:()=>Promise.resolve(JSON.parse(Buffer.concat(e).toString())),ok:r>=200&&r<=299,status:r,url:n,headers:new c(a)}}(n,e))),e.on("error",l)});u.on("error",l),u.end(t.body??"")})}class c{#e=new Map;constructor(e={}){for(let[t,r]of Object.entries(e))if("string"==typeof r)this.#e.set(t,r);else if(Array.isArray(r))for(let e of r)this.#e.set(t,e)}append(e,t){this.#e.set(e,t)}delete(e){this.#e.delete(e)}get(e){return this.#e.get(e)??null}getSetCookie(){throw Error("Method not implemented.")}has(e){return this.#e.has(e)}set(e,t){this.#e.set(e,t)}forEach(e,t){for(let[r,n]of this.#e)e.call(t,n,r,this)}}function l(){return function(e){let t=function(e,t){let[r=0,n=0,a=0]=e.split(".").map(Number),[s=0,i=0,o=0]=t.split(".").map(Number);return s-r||i-n||o-a}("5.1.0",n.Prisma.prismaVersion.client)>=0;return n.Prisma.defineExtension(r=>{let i=function(e){let t;let r=function(){let e=n.Prisma.prismaVersion;return["undefined"!=typeof navigator?navigator.userAgent:"undefined"!=typeof process&&void 0!==process.versions?`Node/${process.versions.node} (${process.platform}; ${process.arch})`:"EdgeRuntime"in globalThis?"Vercel-Edge-Runtime":"UnknownRuntime",`PrismaEngine/${e.engine}`,`PrismaClient/${e.client}`].join(" ")}();return async n=>{let{args:a}=n,{cacheStrategy:i,__accelerateInfo:o=!1,...c}=a,l=null,{__internalParams:u,query:d}=n;return(u.customDataProxyFetch=()=>async(n,a)=>{let o=[];"number"==typeof i?.ttl&&o.push(`max-age=${i.ttl}`),"number"==typeof i?.swr&&o.push(`stale-while-revalidate=${i.swr}`);let c=i?.tags?.join(",")??"";a.headers={...a.headers,"cache-control":o.length>0?o.join(","):"no-cache","user-agent":r,...c.length>0?{"accelerate-cache-tags":c}:{}},t&&(a.headers["accelerate-query-engine-jwt"]=t);try{let r=await e(n,a);return l={cacheStatus:r.headers.get("accelerate-cache-status"),lastModified:new Date(r.headers.get("last-modified")??""),region:r.headers.get("cf-ray")?.split("-")[1]??"unspecified",requestId:r.headers.get("cf-ray")??"unspecified",signature:r.headers.get("accelerate-signature")??"unspecified"},t=r.headers.get("accelerate-query-engine-jwt")??void 0,r}catch(e){throw Error(s)}},o)?{data:await d(c,u),info:l}:d(c,u)}}(e),o=r._engine.start().then(()=>r._engine.apiKey?.()),c=r.$extends({name:a,query:{$allModels:{$allOperations:i}}});return c.$extends({name:a,client:{$accelerate:{invalidate:async t=>{let r;let n=await o;if(!n)return{requestId:"unspecified"};try{r=await e("https://accelerate.prisma-data.net/invalidate",{method:"POST",headers:{authorization:`Bearer ${n}`,"content-type":"application/json"},body:JSON.stringify(t)})}catch(e){throw Error(s)}if(!r?.ok){let e=await r.text();throw Error(`Failed to invalidate Accelerate cache. Response was ${r.status} ${r.statusText}. ${e}`)}return r.body?.cancel(),{requestId:r.headers.get("cf-ray")??"unspecified"}}}},model:{$allModels:{aggregate(e){let r=n.Prisma.getExtensionContext(this),a=t?r.$parent[r.$name]:c[r.name];return Object.assign(a.aggregate(e),{withAccelerateInfo:()=>a.aggregate({...e,__accelerateInfo:!0})})},count(e){let r=n.Prisma.getExtensionContext(this),a=t?r.$parent[r.$name]:c[r.name];return Object.assign(a.count(e),{withAccelerateInfo:()=>a.count({...e,__accelerateInfo:!0})})},findFirst(e){let r=n.Prisma.getExtensionContext(this),a=t?r.$parent[r.$name]:c[r.name];return Object.assign(a.findFirst(e),{withAccelerateInfo:()=>a.findFirst({...e,__accelerateInfo:!0})})},findFirstOrThrow(e){let r=n.Prisma.getExtensionContext(this),a=t?r.$parent[r.$name]:c[r.name];return Object.assign(a.findFirstOrThrow(e),{withAccelerateInfo:()=>a.findFirstOrThrow({...e,__accelerateInfo:!0})})},findMany(e){let r=n.Prisma.getExtensionContext(this),a=t?r.$parent[r.$name]:c[r.name];return Object.assign(a.findMany(e),{withAccelerateInfo:()=>a.findMany({...e,__accelerateInfo:!0})})},findUnique(e){let r=n.Prisma.getExtensionContext(this),a=t?r.$parent[r.$name]:c[r.name];return Object.assign(a.findUnique(e),{withAccelerateInfo:()=>a.findUnique({...e,__accelerateInfo:!0})})},findUniqueOrThrow(e){let r=n.Prisma.getExtensionContext(this),a=t?r.$parent[r.$name]:c[r.name];return Object.assign(a.findUniqueOrThrow(e),{withAccelerateInfo:()=>a.findUniqueOrThrow({...e,__accelerateInfo:!0})})},groupBy(e){let r=n.Prisma.getExtensionContext(this),a=t?r.$parent[r.$name]:c[r.name];return Object.assign(a.groupBy(e),{withAccelerateInfo:()=>a.groupBy({...e,__accelerateInfo:!0})})}}}})})}("fetch"in globalThis?globalThis.fetch:o)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[379,833],()=>r(82375));module.exports=n})();