(()=>{var e={};e.id=786,e.ids=[786],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},74068:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(73149),t(63502),t(40509),t(90996);var l=t(30170),o=t(45002),n=t(83876),a=t.n(n),i=t(66299),s={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>i[e]);t.d(r,s);let d=["",{children:["chat",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,73149)),"/Users/michaelbraian/Documents/VisualStudioCode/Bolt2/app/chat/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,63502)),"/Users/michaelbraian/Documents/VisualStudioCode/Bolt2/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,40509)),"/Users/michaelbraian/Documents/VisualStudioCode/Bolt2/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/michaelbraian/Documents/VisualStudioCode/Bolt2/app/chat/[id]/page.tsx"],u="/chat/[id]/page",f={require:t,loadChunk:()=>Promise.resolve()},p=new l.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/chat/[id]/page",pathname:"/chat/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28859:(e,r,t)=>{Promise.resolve().then(t.bind(t,29732))},29732:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ev});var l=t(97247),o=t(28964),n=t(34178),a=t(58053),i=t(70170),s=t(27757),d=t(22251),c=t(67264),u=t(20732),f=t(93191),p=t(85090),h=o.createContext(void 0),m=t(9537),v=t(70319),w="ScrollArea",[x,g]=(0,u.b)(w),[b,y]=x(w),S=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[c,u]=o.useState(null),[p,m]=o.useState(null),[v,w]=o.useState(null),[x,g]=o.useState(null),[y,S]=o.useState(null),[j,N]=o.useState(0),[C,E]=o.useState(0),[R,P]=o.useState(!1),[T,_]=o.useState(!1),L=(0,f.e)(r,e=>u(e)),D=function(e){let r=o.useContext(h);return e||r||"ltr"}(a);return(0,l.jsx)(b,{scope:t,type:n,dir:D,scrollHideDelay:i,scrollArea:c,viewport:p,onViewportChange:m,content:v,onContentChange:w,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:R,onScrollbarXEnabledChange:P,scrollbarY:y,onScrollbarYChange:S,scrollbarYEnabled:T,onScrollbarYEnabledChange:_,onCornerWidthChange:N,onCornerHeightChange:E,children:(0,l.jsx)(d.WV.div,{dir:D,...s,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});S.displayName=w;var j="ScrollAreaViewport",N=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,children:n,asChild:a,nonce:i,...s}=e,c=y(j,t),u=o.useRef(null),p=(0,f.e)(r,u,c.onViewportChange);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),(0,l.jsx)(d.WV.div,{"data-radix-scroll-area-viewport":"",...s,asChild:a,ref:p,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:function(e,r){let{asChild:t,children:l}=e;if(!t)return"function"==typeof r?r(l):r;let n=o.Children.only(l);return o.cloneElement(n,{children:"function"==typeof r?r(n.props.children):r})}({asChild:a,children:n},e=>(0,l.jsx)("div",{"data-radix-scroll-area-content":"",ref:c.onContentChange,style:{minWidth:c.scrollbarXEnabled?"fit-content":void 0},children:e}))})]})});N.displayName=j;var C="ScrollAreaScrollbar",E=o.forwardRef((e,r)=>{let{forceMount:t,...n}=e,a=y(C,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,d="horizontal"===e.orientation;return o.useEffect(()=>(d?i(!0):s(!0),()=>{d?i(!1):s(!1)}),[d,i,s]),"hover"===a.type?(0,l.jsx)(R,{...n,ref:r,forceMount:t}):"scroll"===a.type?(0,l.jsx)(P,{...n,ref:r,forceMount:t}):"auto"===a.type?(0,l.jsx)(T,{...n,ref:r,forceMount:t}):"always"===a.type?(0,l.jsx)(_,{...n,ref:r}):null});E.displayName=C;var R=o.forwardRef((e,r)=>{let{forceMount:t,...n}=e,a=y(C,e.__scopeScrollArea),[i,s]=o.useState(!1);return o.useEffect(()=>{let e=a.scrollArea,r=0;if(e){let t=()=>{window.clearTimeout(r),s(!0)},l=()=>{r=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",t),e.addEventListener("pointerleave",l),()=>{window.clearTimeout(r),e.removeEventListener("pointerenter",t),e.removeEventListener("pointerleave",l)}}},[a.scrollArea,a.scrollHideDelay]),(0,l.jsx)(c.z,{present:t||i,children:(0,l.jsx)(T,{"data-state":i?"visible":"hidden",...n,ref:r})})}),P=o.forwardRef((e,r)=>{var t,n;let{forceMount:a,...i}=e,s=y(C,e.__scopeScrollArea),d="horizontal"===e.orientation,u=$(()=>p("SCROLL_END"),100),[f,p]=(t="hidden",n={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},o.useReducer((e,r)=>n[e][r]??e,t));return o.useEffect(()=>{if("idle"===f){let e=window.setTimeout(()=>p("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(e)}},[f,s.scrollHideDelay,p]),o.useEffect(()=>{let e=s.viewport,r=d?"scrollLeft":"scrollTop";if(e){let t=e[r],l=()=>{let l=e[r];t!==l&&(p("SCROLL"),u()),t=l};return e.addEventListener("scroll",l),()=>e.removeEventListener("scroll",l)}},[s.viewport,d,p,u]),(0,l.jsx)(c.z,{present:a||"hidden"!==f,children:(0,l.jsx)(_,{"data-state":"hidden"===f?"hidden":"visible",...i,ref:r,onPointerEnter:(0,v.M)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,v.M)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),T=o.forwardRef((e,r)=>{let t=y(C,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=o.useState(!1),d="horizontal"===e.orientation,u=$(()=>{if(t.viewport){let e=t.viewport.offsetWidth<t.viewport.scrollWidth,r=t.viewport.offsetHeight<t.viewport.scrollHeight;s(d?e:r)}},10);return Z(t.viewport,u),Z(t.content,u),(0,l.jsx)(c.z,{present:n||i,children:(0,l.jsx)(_,{"data-state":i?"visible":"hidden",...a,ref:r})})}),_=o.forwardRef((e,r)=>{let{orientation:t="vertical",...n}=e,a=y(C,e.__scopeScrollArea),i=o.useRef(null),s=o.useRef(0),[d,c]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=F(d.viewport,d.content),f={...n,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function p(e,r){return function(e,r,t,l="ltr"){let o=X(t),n=r||o/2,a=t.scrollbar.paddingStart+n,i=t.scrollbar.size-t.scrollbar.paddingEnd-(o-n),s=t.content-t.viewport;return q([a,i],"ltr"===l?[0,s]:[-1*s,0])(e)}(e,s.current,d,r)}return"horizontal"===t?(0,l.jsx)(L,{...f,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){let e=Y(a.viewport.scrollLeft,d,a.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=p(e,a.dir))}}):"vertical"===t?(0,l.jsx)(D,{...f,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){let e=Y(a.viewport.scrollTop,d);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=p(e))}}):null}),L=o.forwardRef((e,r)=>{let{sizes:t,onSizesChange:n,...a}=e,i=y(C,e.__scopeScrollArea),[s,d]=o.useState(),c=o.useRef(null),u=(0,f.e)(r,c,i.onScrollbarXChange);return o.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,l.jsx)(k,{"data-orientation":"horizontal",...a,ref:u,sizes:t,style:{bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":X(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.x),onDragScroll:r=>e.onDragScroll(r.x),onWheelScroll:(r,t)=>{if(i.viewport){let l=i.viewport.scrollLeft+r.deltaX;e.onWheelScroll(l),function(e,r){return e>0&&e<r}(l,t)&&r.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:U(s.paddingLeft),paddingEnd:U(s.paddingRight)}})}})}),D=o.forwardRef((e,r)=>{let{sizes:t,onSizesChange:n,...a}=e,i=y(C,e.__scopeScrollArea),[s,d]=o.useState(),c=o.useRef(null),u=(0,f.e)(r,c,i.onScrollbarYChange);return o.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,l.jsx)(k,{"data-orientation":"vertical",...a,ref:u,sizes:t,style:{top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":X(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.y),onDragScroll:r=>e.onDragScroll(r.y),onWheelScroll:(r,t)=>{if(i.viewport){let l=i.viewport.scrollTop+r.deltaY;e.onWheelScroll(l),function(e,r){return e>0&&e<r}(l,t)&&r.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:U(s.paddingTop),paddingEnd:U(s.paddingBottom)}})}})}),[A,W]=x(C),k=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:m,onResize:w,...x}=e,g=y(C,t),[b,S]=o.useState(null),j=(0,f.e)(r,e=>S(e)),N=o.useRef(null),E=o.useRef(""),R=g.viewport,P=n.content-n.viewport,T=(0,p.W)(m),_=(0,p.W)(u),L=$(w,10);function D(e){N.current&&h({x:e.clientX-N.current.left,y:e.clientY-N.current.top})}return o.useEffect(()=>{let e=e=>{let r=e.target;b?.contains(r)&&T(e,P)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[R,b,P,T]),o.useEffect(_,[n,_]),Z(b,L),Z(g.content,L),(0,l.jsx)(A,{scope:t,scrollbar:b,hasThumb:a,onThumbChange:(0,p.W)(i),onThumbPointerUp:(0,p.W)(s),onThumbPositionChange:_,onThumbPointerDown:(0,p.W)(c),children:(0,l.jsx)(d.WV.div,{...x,ref:j,style:{position:"absolute",...x.style},onPointerDown:(0,v.M)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),N.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),D(e))}),onPointerMove:(0,v.M)(e.onPointerMove,D),onPointerUp:(0,v.M)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=E.current,g.viewport&&(g.viewport.style.scrollBehavior=""),N.current=null})})})}),I="ScrollAreaThumb",z=o.forwardRef((e,r)=>{let{forceMount:t,...o}=e,n=W(I,e.__scopeScrollArea);return(0,l.jsx)(c.z,{present:t||n.hasThumb,children:(0,l.jsx)(M,{ref:r,...o})})}),M=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,style:n,...a}=e,i=y(I,t),s=W(I,t),{onThumbPositionChange:c}=s,u=(0,f.e)(r,e=>s.onThumbChange(e)),p=o.useRef(),h=$(()=>{p.current&&(p.current(),p.current=void 0)},100);return o.useEffect(()=>{let e=i.viewport;if(e){let r=()=>{if(h(),!p.current){let r=B(e,c);p.current=r,c()}};return c(),e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[i.viewport,h,c]),(0,l.jsx)(d.WV.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:(0,v.M)(e.onPointerDownCapture,e=>{let r=e.target.getBoundingClientRect(),t=e.clientX-r.left,l=e.clientY-r.top;s.onThumbPointerDown({x:t,y:l})}),onPointerUp:(0,v.M)(e.onPointerUp,s.onThumbPointerUp)})});z.displayName=I;var O="ScrollAreaCorner",H=o.forwardRef((e,r)=>{let t=y(O,e.__scopeScrollArea),o=!!(t.scrollbarX&&t.scrollbarY);return"scroll"!==t.type&&o?(0,l.jsx)(V,{...e,ref:r}):null});H.displayName=O;var V=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,...n}=e,a=y(O,t),[i,s]=o.useState(0),[c,u]=o.useState(0),f=!!(i&&c);return Z(a.scrollbarX,()=>{let e=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(e),u(e)}),Z(a.scrollbarY,()=>{let e=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(e),s(e)}),f?(0,l.jsx)(d.WV.div,{...n,ref:r,style:{width:i,height:c,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function U(e){return e?parseInt(e,10):0}function F(e,r){let t=e/r;return isNaN(t)?0:t}function X(e){let r=F(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-t)*r,18)}function Y(e,r,t="ltr"){let l=X(r),o=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=r.scrollbar.size-o,a=r.content-r.viewport,i=function(e,[r,t]){return Math.min(t,Math.max(r,e))}(e,"ltr"===t?[0,a]:[-1*a,0]);return q([0,a],[0,n-l])(i)}function q(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let l=(r[1]-r[0])/(e[1]-e[0]);return r[0]+l*(t-e[0])}}var B=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},l=0;return function o(){let n={left:e.scrollLeft,top:e.scrollTop},a=t.left!==n.left,i=t.top!==n.top;(a||i)&&r(),t=n,l=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(l)};function $(e,r){let t=(0,p.W)(e),l=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(l.current),[]),o.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(t,r)},[t,r])}function Z(e,r){let t=(0,p.W)(r);(0,m.b)(()=>{let r=0;if(e){let l=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return l.observe(e),()=>{window.cancelAnimationFrame(r),l.unobserve(e)}}},[e,t])}var G=t(25008);let J=o.forwardRef(({className:e,children:r,...t},o)=>(0,l.jsxs)(S,{ref:o,className:(0,G.cn)("relative overflow-hidden",e),...t,children:[l.jsx(N,{className:"h-full w-full rounded-[inherit]",children:r}),l.jsx(K,{}),l.jsx(H,{})]}));J.displayName=S.displayName;let K=o.forwardRef(({className:e,orientation:r="vertical",...t},o)=>l.jsx(E,{ref:o,orientation:r,className:(0,G.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:l.jsx(z,{className:"relative flex-1 rounded-full bg-border"})}));K.displayName=E.displayName;var Q="Avatar",[ee,er]=(0,u.b)(Q),[et,el]=ee(Q),eo=o.forwardRef((e,r)=>{let{__scopeAvatar:t,...n}=e,[a,i]=o.useState("idle");return(0,l.jsx)(et,{scope:t,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:(0,l.jsx)(d.WV.span,{...n,ref:r})})});eo.displayName=Q;var en="AvatarImage",ea=o.forwardRef((e,r)=>{let{__scopeAvatar:t,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=el(en,t),c=function(e,r){let[t,l]=o.useState("idle");return(0,m.b)(()=>{if(!e){l("error");return}let t=!0,o=new window.Image,n=e=>()=>{t&&l(e)};return l("loading"),o.onload=n("loaded"),o.onerror=n("error"),o.src=e,r&&(o.referrerPolicy=r),()=>{t=!1}},[e,r]),t}(n,i.referrerPolicy),u=(0,p.W)(e=>{a(e),s.onImageLoadingStatusChange(e)});return(0,m.b)(()=>{"idle"!==c&&u(c)},[c,u]),"loaded"===c?(0,l.jsx)(d.WV.img,{...i,ref:r,src:n}):null});ea.displayName=en;var ei="AvatarFallback",es=o.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:n,...a}=e,i=el(ei,t),[s,c]=o.useState(void 0===n);return o.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(e)}},[n]),s&&"loaded"!==i.imageLoadingStatus?(0,l.jsx)(d.WV.span,{...a,ref:r}):null});es.displayName=ei;let ed=o.forwardRef(({className:e,...r},t)=>l.jsx(eo,{ref:t,className:(0,G.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));ed.displayName=eo.displayName,o.forwardRef(({className:e,...r},t)=>l.jsx(ea,{ref:t,className:(0,G.cn)("aspect-square h-full w-full",e),...r})).displayName=ea.displayName;let ec=o.forwardRef(({className:e,...r},t)=>l.jsx(es,{ref:t,className:(0,G.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));ec.displayName=es.displayName;var eu=t(26323);let ef=(0,eu.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ep=(0,eu.Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),eh=(0,eu.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var em=t(25995);function ev(){let e=(0,n.useParams)(),r=e?.id;if(!r||"string"!=typeof r)return l.jsx("div",{children:"Invalid chat ID"});let[t,d]=(0,o.useState)([]),[c,u]=(0,o.useState)(""),[f,p]=(0,o.useState)(!1),[h,m]=(0,o.useState)(null),[v,w]=(0,o.useState)(null),x=(0,o.useRef)(null),g=(0,o.useRef)(null),{toast:b}=(0,em.p)(),y=async e=>{if(e.preventDefault(),!c.trim()&&!v)return;let r={role:"user",content:c};v&&(r.file=v),d(e=>[...e,r]),u(""),w(null),p(!0);try{let e=new FormData;e.append("message",c),e.append("threadId",h||""),v&&e.append("file",v);let r=await fetch("/api/chat",{method:"POST",body:e});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let t=r.body?.getReader(),l=new TextDecoder;if(t){let e={role:"assistant",content:""};for(d(r=>[...r,e]);;){let{done:r,value:o}=await t.read();if(r)break;for(let r of l.decode(o).split("\n"))if(r.startsWith("data: "))try{let t=JSON.parse(r.slice(5));if("done"===t.type){p(!1),m(t.threadId);break}e.content+=t.content,d(r=>[...r.slice(0,-1),{...e}])}catch(e){console.error("Error parsing JSON:",e)}}}else throw Error("No reader available for response body")}catch(e){console.error("Error in handleSubmit:",e),b({title:"Error",description:"Failed to get a response from the AI. Please try again.",variant:"destructive"})}finally{p(!1),g.current&&(g.current.value="")}},S=async()=>{d([]),m(null),w(null),g.current&&(g.current.value="");try{let e=await fetch("/api/chat/reset",{method:"POST"});if(!e.ok)throw Error("Failed to reset chat");let r=await e.json();m(r.threadId)}catch(e){console.error("Error resetting chat:",e),b({title:"Error",description:"Failed to reset the chat. Please try again.",variant:"destructive"})}};return l.jsx("div",{className:"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,l.jsxs)(s.Zb,{className:"flex-grow flex flex-col",children:[(0,l.jsxs)(s.Ol,{className:"bg-gradient-to-r from-blue-500/10 to-teal-400/10 flex justify-between items-center",children:[l.jsx(s.ll,{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400",children:"Chat with AI Assistant"}),l.jsx(a.z,{onClick:S,variant:"outline",size:"icon",children:l.jsx(ef,{className:"h-4 w-4"})})]}),l.jsx(s.aY,{className:"flex-grow overflow-hidden",children:(0,l.jsxs)(J,{className:"h-full pr-4",ref:x,children:[t.map((e,r)=>l.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"} mb-4`,children:(0,l.jsxs)("div",{className:`flex items-start ${"user"===e.role?"flex-row-reverse":"flex-row"}`,children:[l.jsx(ed,{className:"w-8 h-8",children:l.jsx(ec,{children:"user"===e.role?"U":"AI"})}),(0,l.jsxs)("div",{className:`max-w-[70%] px-4 py-2 rounded-lg ${"user"===e.role?"bg-blue-500 text-white ml-2":"bg-gray-200 dark:bg-gray-700 mr-2"}`,children:[e.content,e.file&&(0,l.jsxs)("div",{className:"text-xs mt-1",children:["Attached: ",e.file.name]})]})]})},r)),f&&l.jsx("div",{className:"flex justify-start mb-4",children:l.jsx("div",{className:"flex items-center bg-gray-200 dark:bg-gray-700 px-4 py-2 rounded-lg",children:l.jsx("div",{className:"dot-flashing"})})})]})}),l.jsx(s.eW,{children:(0,l.jsxs)("form",{onSubmit:y,className:"w-full flex gap-2",children:[l.jsx(i.I,{type:"file",ref:g,className:"hidden",onChange:e=>{let r=e.target.files?.[0];r&&(w(r),b({title:"File selected",description:`${r.name} is ready to be sent with your next message.`}))}}),l.jsx(a.z,{type:"button",onClick:()=>g.current?.click(),variant:"outline",size:"icon",children:l.jsx(ep,{className:"h-4 w-4"})}),l.jsx(i.I,{value:c,onChange:e=>u(e.target.value),placeholder:"Type your message...",className:"flex-grow rounded-full",disabled:f}),l.jsx(a.z,{type:"submit",className:"rounded-full bg-gradient-to-r from-blue-500 to-teal-400 hover:from-blue-600 hover:to-teal-500",disabled:f,children:l.jsx(eh,{className:"h-5 w-5"})})]})})]})})}},27757:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>i,SZ:()=>d,Zb:()=>a,aY:()=>c,eW:()=>u,ll:()=>s});var l=t(97247),o=t(28964),n=t(25008);let a=o.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let i=o.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let s=o.forwardRef(({className:e,...r},t)=>l.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));s.displayName="CardTitle";let d=o.forwardRef(({className:e,...r},t)=>l.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=o.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=o.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},70170:(e,r,t)=>{"use strict";t.d(r,{I:()=>a});var l=t(97247),o=t(28964),n=t(25008);let a=o.forwardRef(({className:e,type:r,...t},o)=>l.jsx("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...t}));a.displayName="Input"},73149:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});let l=(0,t(45347).createProxy)(String.raw`/Users/michaelbraian/Documents/VisualStudioCode/Bolt2/app/chat/[id]/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),l=r.X(0,[379,696,589],()=>t(74068));module.exports=l})();